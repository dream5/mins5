<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mins5.share.business.article.dao.ArticleRecommendDao">

	<resultMap type="com.mins5.share.business.article.domain.Article" id="ArticleMap">
		<id property="articleId" column="article_id"/>
		<result property="articleTitle" column="article_title"/>
		<result property="articleContent" column="article_content"/>
		<result property="articleUrl" column="article_url"/>
		<result property="articleFrom" column="article_from"/>
		<result property="articleAuthor" column="article_author"/>
		<result property="status" column="status"/>
		<result property="updateTime" column="update_time"/>
		<result property="createTime" column="create_time"/>
		<result property="isOriginal" column="is_original"/>
		<result property="isValid" column="is_valid"/>
	</resultMap>

	
   <!-- 查询推荐文章 add by zhanglin 20140317 -->
	<select id="findRecommendByPositionAndCount"  resultMap="ArticleMap">
		select 
			a.article_title,a.article_url,a.create_time from article a left join article_recommend r
		on  
			a.article_id = r.article_id
	    where
	    	 a.status=1 and r.recommend_position = #{position}
			
		order by r.recommend_sort limit 0,#{num}
	</select>

</mapper>